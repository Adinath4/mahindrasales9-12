sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,o,t){"use strict";return{onBrowseHistoryPress:async function(){debugger;var e=this.byId("commentHistoryDialog1");if(!e){e=sap.ui.xmlfragment(this.getView().getId(),"sales.ext.fragment.Commets1",this);this.getView().addDependent(e)}var o=this.getModel().sServiceUrl;try{const t=await new Promise((e,t)=>{jQuery.ajax({url:o+"PurchaseComments",method:"GET",dataType:"json",success:function(o){e(o)},error:function(e,o,s){t(new Error(o+": "+s))}})});const n=window.location.href;const r=/purchaseOrderUuid=([a-f0-9\-]+)/;const i=n.match(r);var s;if(i&&i[1]){s=i[1]}else{console.log("UUID not found")}const a=t.value;const c=a.filter(e=>!e.customerId&&e.purchaseOrderUuid===s);e.open()}catch(e){console.error("Error fetching comment data:",e);t.show("Failed to load comment history: "+e)}},onCloseHistoryDialog:function(){var e=this.byId("_IDGenDialog");if(e){e.close()}},onDialogOpen:function(){console.log("Comment History Dialog opened")}}});
//# sourceMappingURL=Commets1.js.map